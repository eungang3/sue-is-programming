---
layout: post
title:  "Javascript의 실행 과정"
date:   2020-06-06 01:35:27 +0900
categories: Javascript
---

Udemy - [The Complete JavaScript Course 2020: Build Real Projects!](https://www.udemy.com/course/the-complete-javascript-course/) 강좌의 섹션 3. How JavaScript Works Behind the Scenes와 Kyle Simpson의 책 [You don't know JS yet]((https://github.com/getify/You-Dont-Know-JS/blob/2nd-ed/get-started/ch1.md))의 chapter 1 - get started를 요약한 내용입니다. 

<br/>


## 0. Interpreted languages VS Compiled languages
- js는 흔히들 interpreted language(=scripting language)라고 하지만 근본적으론 compiled language.
- js가 어떻게 error를 handling하는지 이해하려면 두 가지의 차이점을 알아야 함. 

### 1) Interpreted languages의 실행 과정
![js-how1](https://eungang3.github.io/sue-is-programming/assets/js-how1.jpg)
1. 한줄씩 실행 
2. 5번째 줄에 에러가 있으면 1~4번째줄까지 실행한 다음 에러 발생.
3. static error(=syntax error)도 실행 중에 알려줌.

<br/>

### 2) Compiled languages의 실행 과정
![js-how2](https://eungang3.github.io/sue-is-programming/assets/js-how2.jpg)
1. 전체 코드를 processing(주로 parsing을 뜻함)한 다음 실행. 
2. 5번째 줄에 에러가 있으면 실행 전 parsing 단계에서 에러 발생 -> 프로그램 전체가 실행 안됨.
3. static error가 있으면 실행 전 parsing 단계에서 알려줌. 
4. parsing 완료 후, parsing된 코드를 compile해서 실행가능한 형태의 machine code 생성
- 보통 compiled languages는 여기서 machine code를 만들어놓고 배포할 때 쓰는데, js는 machine code는 만들어놓고 배포할 때는 source code를 써서 js는 compiled language가 아니라는 잘못된 주장이 나옴. 
5. compile된 코드 실행


### 3) js의 실행 과정
![js-how3](https://eungang3.github.io/sue-is-programming/assets/js-how2.jpg)
1. 코드 작성
2. babel로 해당 코드 transpile
3. transpiled된 코드에 webpack으로 필요한 build 같이 꾸려줌.
4. 브라우저의 JS engine(js 코드 실행해주는 프로그램. ex: chrome의 v8)에 도착
5. JS engine으로 코드 parsing -> __static error가 있으면 이 단계에서 오류 내고 진행 중단__ -> 문제 없으면 AST 생성
6. JS engine으로 AST를 기계가 이해할 수 있는 코드인 binary IR(Intermediate Representation)로 변환
7. JIT compiler로 binary IR 최적화된 상태로 변환
8. JS VM(=JS Virtual Machine)으로 실행 
 

<br/><br/>
출처 : <br/>
<sup>1</sup>Jonas Schmedtmann. The Complete JavaScript Course 2020: Build Real Projects!. Retrieved June 06, 2020, from [https://www.udemy.com/course/the-complete-javascript-course/](https://www.udemy.com/course/the-complete-javascript-course/)<br/>

<sup>2</sup>Simpson, K. (2019). You don't know JS yet: Get Started. Sebastopol, CA: O'Reilly Media. from [https://github.com/getify/You-Dont-Know-JS/blob/2nd-ed/get-started/ch1.md](https://github.com/getify/You-Dont-Know-JS/blob/2nd-ed/get-started/ch1.md)